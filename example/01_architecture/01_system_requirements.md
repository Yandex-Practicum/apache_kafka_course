# Выявление требований: от идеи до реализации

Итак, перед вами стоит задача: разработать новую систему или модуль в уже существующей инфраструктуре. Вы знаете, что необходимо реализовать, но откуда начать? Как убедиться, что вы учли все возможные сценарии использования и предусмотрели все тонкости функциональности? Ответ прост: необходимо выявить и правильно сформулировать требования к системе.

Разработка любой системы начинается именно с этого этапа. Важно понимать, что качество конечного продукта, его удобство для пользователя, эффективность и масштабируемость напрямую зависят от корректного выявления требований. Более того, это поможет в будущем избежать многих проблем, связанных с недопониманием задач и потребностей бизнеса.

**Бизнес-требования** обычно описывают высокоуровневые цели и задачи, которые должна решать система с точки зрения бизнеса. Например, система должна обеспечивать интерфейс для покупок в интернет-магазине.

**Системные требования**, с другой стороны, более технические и конкретизируют, как именно система должна работать, чтобы удовлетворить бизнес-требования. Например, система должна обеспечивать время отклика не более двух секунд.

Мы сфокусируемся на основных типах системных требований: функциональных и нефункциональных. Разберёмся, каким образом выявлять и собирать эти требования, как анализировать их и преобразовывать в ясные и понятные задачи для команды разработки. Также уделим внимание тому, как из требований формируется бизнес-логика системы и определяются её ключевые функции.

Выявление требований — это не однократный процесс, проводимый на старте разработки. Это происходит непрерывно, требования могут меняться и дополняться по мере развития проекта и получения обратной связи от пользователей.

Научившись выявлять требования, вы сможете более эффективно планировать разработку, управлять рисками и точно знать, что ваша система соответствует ожиданиям и потребностям пользователей.

## Сбор системных требований

Системные требования — это конкретные детали, которые определяют, как система должна быть разработана и как она должна функционировать. Они включают в себя требования к аппаратному обеспечению, программному обеспечению, сетевым ресурсам, безопасности и другим техническим аспектам.

Сбор системных требований — важный этап в процессе разработки системы. Он помогает разработчикам и другим участникам проекта понять, какие ресурсы и технологии потребуются для успешного выполнения проекта.

![](https://github.com/Yandex-Practicum/python_p2f_ugc/blob/bb79540b49024d92f95cb65a7de687ed68c55aeb/8th-sprint-refactor/01_architecture/files/1_lesson_01.png)

### Как собирать системные требования?

Сбор системных требований может включать в себя различные действия, в зависимости от специфики проекта. Вот несколько общих шагов, которые могут быть полезными:

1. **Оценка текущей инфраструктуры**: если вы работаете над проектом, который будет внедряться в существующую инфраструктуру, важно оценить текущее состояние этой инфраструктуры и определить, какие изменения потребуются для выполнения проекта.
2. **Анализ требований к безопасности**: безопасность — важный аспект любого проекта, и системные требования должны включать в себя анализ требований к безопасности. Это может включать в себя определение требуемых уровней защиты данных, а также анализ возможных угроз и рисков для безопасности.
3. **Сбор информации от участников проекта**: важно получить вводные данные от всех участников проекта, включая разработчиков, управляющих проектом, пользователей и других заинтересованных сторон. Это поможет вам лучше понять требования к проекту и убедиться, что все участники проекта находятся на одной волне.
4. **Проверка соответствия стандартам и регулятивным требованиям**: во многих отраслях существуют определённые стандарты и регулятивные требования, которым должны соответствовать системы. Проверьте, какие требования или стандарты применимы к вашему проекту, и убедитесь, что они учтены в ваших системных требованиях.
5. **Формирование документации**: после сбора всех системных требований важно оформить их в виде документации, которая будет доступна всем участникам проекта. Это обеспечит ясность и согласованность в ходе всего проекта.

Рассмотрим различные виды требований к системе более детально.

## Функциональные требования

![](https://github.com/Yandex-Practicum/python_p2f_ugc/blob/bb79540b49024d92f95cb65a7de687ed68c55aeb/8th-sprint-refactor/01_architecture/files/2_lesson_01.png)

Теперь, когда мы разобрались с техническими аспектами, переходим к вопросу: что конкретно должна делать наша система? Это и есть функциональные требования: они описывают конкретные функции или задачи, которые система должна выполнять.

Функциональные требования могут быть выражены в виде спецификаций, которые описывают действия системы, её реакцию на определённые входы и поведение в определённых ситуациях. Они могут также описывать то, что система не должна делать.

Вот несколько примеров функциональных требований:

1. Система должна предоставлять пользователю возможность регистрации и авторизации (Сервис Auth).
2. Система должна предоставлять администратору возможность добавлять, удалять и редактировать информацию о фильмах (Сервис Admin Panel).
3. Система должна предоставлять возможность полнотектового поиска по фильмам (Сервис Async API)

Эти требования сейчас неполные и в последствии они должны уточняться по мере необходимости.

При сборе функциональных требований важно задавать вопросы, которые помогут определить функции системы наиболее точно и полно. Например:

- Что должна делать система?
- Какие задачи система должна решать для пользователя?
- Как система должна реагировать на определённые действия пользователя?
- Есть ли какие-то специфические условия или ограничения для выполнения определённых функций системы?

Однако, при формулировании функциональных требований важно помнить, что они должны оставаться в пределах возможностей технологий и ресурсов, которые у вас есть.

### Сценарии использования и пользовательские истории

Сценарии использования (англ. use cases) и пользовательские истории (англ. user stories) являются важными инструментами для выявления функциональных требований.

Сценарий использования описывает, как система должна работать с точки зрения конечного пользователя. Сценарий обычно включает в себя набор шагов, которые пользователь выполняет для достижения конкретной цели, и как система реагирует на каждый из этих шагов.

Пример сценария использования:

**Сценарий использования:** Покупка товара на сайте.

**Актор**: Покупатель, Система.

**Цель**: Покупатель успешно приобретает товар.

**Описание**:

1. Покупатель выбирает товар, который хочет купить.
2. Система предоставляет информацию о выбранном товаре, включая цену и доступность.
3. Покупатель добавляет товар в корзину.
4. Система обновляет информацию о корзине, отображая добавленный товар.
5. Покупатель переходит к оформлению заказа.
6. Система предлагает покупателю ввести информацию для доставки и выбрать способ оплаты.
7. Покупатель вводит необходимую информацию и подтверждает заказ.
8. Система проверяет предоставленную информацию, обрабатывает платеж и подтверждает заказ.
9. Покупатель получает подтверждение о совершенной покупке.

Пользовательская история — это ещё более детализированный инструмент, который позволяет команде разработки понять, что конкретно хочет получить пользователь от системы. Она описывает функцию системы с точки зрения пользователя и его потребностей.

Пример пользовательской истории: «Как пользователь, я хочу иметь возможность сохранять товары в Избранное, чтобы быстро найти их в следующий раз, когда я захожу на сайт.»

## Нефункциональные требования

![](https://github.com/Yandex-Practicum/python_p2f_ugc/blob/bb79540b49024d92f95cb65a7de687ed68c55aeb/8th-sprint-refactor/01_architecture/files/3_lesson_01.png)

Нефункциональные требования — это требования, которые определяют качественные атрибуты системы, а не конкретные функции, которые она должна выполнять. Если функциональные требования отвечают на вопрос «Что система должна делать?», то нефункциональные требования отвечают на вопрос «Как система должна это делать?».

Существуют базовые нефункциональные требования:

**Availability** (от англ. «доступность»). Это мера, которая указывает, насколько часто система доступна для использования. Она выражается в процентах и часто используется для описания надёжности систем.

Целью достижения высокой доступности (англ. High Availability, HA) является минимизация времени простоя и обеспечение непрерывного доступа к сервисам или продуктам. Это особенно важно для критически важных систем, где простои могут привести к значительным потерям.

Доступность часто используется в контексте SLA (англ. Service Level Agreement — соглашение об уровне обслуживания). Например, [«пять девяток»](https://www.rtcloud.ru/technology/vysokaya-dostupnost-pyat-devyatok/) (99,999%) доступности означает, что система может быть недоступна не более 5,26 минуты в год.

Доступность часто определяется как отношение времени, когда система была доступна, к общему времени:

Доступность = (Время доступности / Общее время) * 100%

Например, если ваша система была доступна 99 часов из 100, ваша доступность составит 99%.

**Reliability** (от англ. «надёжность»). Это мера, которая относится к способности системы или компонента выполнять требуемую функцию на протяжении заданного периода времени. Другими словами, надёжная система должна быть способна работать без сбоев в течение определённого времени при нормальном использовании.

Традиционно выражается в процентах вероятности. Например, если система имеет 85-процентную надежность в течение месяца, это означает, что в течение этого месяца при нормальных условиях использования c вероятностью 85% мы можем утверждать, что система не выйдет из строя.

**Maintainability** (от англ. «ремонтопригодность»). Ремонтопригодность определяет время, необходимое для исправления ошибок в приложении или его компоненте, а также время, необходимое для изменений при повышении производительности или других качеств или адаптации к изменяющейся среде. 

Как и надёжность, она может быть выражена в виде вероятности ремонта в течение некоторого времени. 

Например, если показатель ремонтопригодности равен 75% в течение 24 часов, это означает, что с вероятностью 75% ошибку в компоненте можно будет исправить за 24 часа.

**Scalability** (от англ. масштабируемость). Масштабируемость в контексте нефункциональных требований относится к способности системы эффективно справляться с увеличением нагрузки. Иными словами, это способность системы увеличивать свою производительность в ответ на увеличение объёма входящих данных или количество пользователей.

Масштабируемость может быть горизонтальной (добавление новых узлов в систему) или вертикальной (добавление ресурсов к существующим узлам). Ключевой вопрос здесь — насколько хорошо система может использовать дополнительные ресурсы.

Оценка масштабируемости может производиться посредством проведения нагрузочных тестов на системе, где измеряется её производительность при различных уровнях нагрузки. Это помогает понять, как система будет справляться с увеличением нагрузки в будущем.

**Fault Tolerance** (Отказоустойчивость). Это способность системы поддерживать свою работоспособность и предотвращать полное прекращение работы в условиях появления отказов или ошибок.

Отказоустойчивость может достигаться через ряд механизмов, включая резервное копирование, дублирование критически важных компонентов, использование распределённых систем, а также внедрение механизмов для быстрого восстановления после сбоев.

Мы разобрали только основные нефункциональные требования, которые часто применяются при проектировании и разработке систем. В зависимости от конкретного приложения или контекста, могут формироваться и другие требования — мультирегиональность, удобство интерфейса, повышенная безопасность и другие.

Формируя нефункциональные требования, мы пытаемся ответить на типичные вопросы:

- Должна ли система быть абсолютно надежной или какие-то данные могут теряться?
- Что нам важнее — быстрый ответ системы или гарантия учёта последних изменений?
- С какой задержкой могут применяться вносимые нами изменения?
- С какой задержкой отображаются запрашиваемые данные?

С первого взгляда все эти вопросы могут показаться странными — почему бы не сделать систему, которая удовлетворяет вообще всем требованиям? Но есть чисто теоретические ограничения, почему так не может быть, поэтому приходится всегда чем-то жертвовать. Это связано с такой важной концепцией, как теорема CAP.

[Теорема CAP](https://neerc.ifmo.ru/wiki/index.php?title=CAP_теорема) (Согласованность, Доступность, Устойчивость к разделению сети) утверждает, что в любой распределенной системе можно обеспечить только два из трех свойств:

- Согласованность (англ. Consistency) — все узлы видят одни и те же данные в одно и то же время.
- Доступность (англ. Availability) — каждый запрос к системе получает ответ о том, удалось ли чтение/запись, без гарантии того, что это последняя версия данных.
- Устойчивость к разделению сети (англ. Partition Tolerance) — система продолжает работать, несмотря на то, что часть узлов недоступна.

![](https://github.com/Yandex-Practicum/python_p2f_ugc/blob/419364780d0181289158a4f123853a7da4de9e28/8th-sprint-refactor/01_architecture/files/CAP.png)

Некоторые из этих требований могут быть важнее для вашего проекта, чем другие. Например, для онлайн-банка важнейшим нефункциональным требованием может быть согласованность данных. При проведении финансовых операций клиенты ожидают, что их баланс будет всегда актуальным и верным, даже если это может немного ущемить производительность системы. 

А вот для социальной сети важность быстрой загрузки контента и возможности обрабатывать большое количество одновременных запросов может превышать необходимость строгой согласованности. Если отображаемое количество лайков под фотографией немного отстаёт от реального числа, это не столь критично, как задержка в загрузке контента или тормоза в работе сервиса.

Важно помнить, что теорема CAP — это не закон, который гласит, что вы «не можете» обеспечить все три свойства. Это скорее концептуальное напоминание о том, что иногда приходится принимать трудные решения и выбирать между различными аспектами производительности и надёжности в зависимости от ваших конкретных потребностей и целей.

При формировании нефункциональных требований стоит учитывать следующее:

- Определите ключевые характеристики вашей системы и решите, какие из них являются наиболее важными. Это поможет приоритизировать различные нефункциональные требования.
- Проведите анализ влияния. Какие последствия для системы и бизнеса в целом может иметь невыполнение определённого требования?
- Учтите возможные технологические ограничения. Какие технологии и инструменты вы планируете использовать при разработке, и какие ограничения они могут накладывать на нефункциональные требования?

### Квиз  
Разделите предложенные требования на функциональные и нефункциональные:  

Функциональные:
- [x] Пользователь должен иметь возможность добавлять товары в корзину.
- [x] Возможность оплаты заказа через различные платежные системы.
- [x] Пользователь должен иметь возможность изменить свой пароль.
- [x] Предоставление возможности сортировки товаров по цене.

Нефункциональные:
- [x] Время отклика системы не должно превышать одной секунды.
- [x] Система должна поддерживать масштабирование для обеспечения устойчивой работы при увеличении нагрузки.
- [x] Интерфейс системы должен быть интуитивно понятным и удобным для пользователей.
- [x] Система должна обеспечивать высокую производительность при обработке запросов.

## Выявление требований из бизнес описания

Бизнес-описание — это суть вашего проекта, его цели, функции и ключевые характеристики. Это первый шаг для выявления требований к системе.

Бизнес-описание может содержать целый ряд сведений: от общих целей до конкретных процессов и функций. Например, представьте, что вы разрабатываете приложение для заказа пиццы. Бизнес-описание может включать информацию о том, как должна выглядеть процедура заказа, какие варианты оплаты должны быть доступны, как должна работать система доставки.

При разборе бизнес описания важно выделить ключевые сущности и процессы, а также определить, какие функциональные и нефункциональные требования они подразумевают. 

Рассмотрим пример бизнес описания:

«Мы хотим создать приложение для заказа пиццы с международной ориентацией. Нашей целью является обслуживание большого числа пользователей по всему миру. Пользователь должен иметь возможность выбрать пиццу из меню, добавить её в корзину и оплатить заказ. Заказы должны автоматически отправляться в ближайшую пиццерию, где их будут готовить и доставлять. Мы ожидаем, что наша система будет переживать пики спроса, особенно во время праздников и акций. Время отклика приложения должно быть минимальным, чтобы обеспечить удобство и удовлетворенность пользователей».

Первым делом проанализируем бизнес-описание, чтобы выявить ключевые сущности.

В данном случае ключевые сущности могут включать:

- Пользователь;
- Меню;
- Пицца;
- Корзина;
- Заказ;
- Пиццерия.

Основываясь на этих сущностях, определим следующие функциональные требования:

- Реализация меню с выбором пиццы.
- Возможность добавления пиццы в корзину.
- Реализация системы оплаты.
- Автоматическая отправка заказов в пиццерию.

Теперь, отталкиваясь от специфики нашего приложения, мы можем выявить нефункциональные требования. Сначала посмотрим, как требования выявлять не нужно:

- **Масштабируемость**: приложение должно быть способно масштабироваться для обработки увеличения нагрузки в периоды пикового спроса, например, во время праздников или акций. Оно должно эффективно масштабироваться горизонтально, добавляя дополнительные серверы или используя облачные ресурсы, чтобы обеспечить непрерывную работу и высокую производительность.
- **Производительность**: приложение должно обеспечивать быструю и отзывчивую работу, чтобы пользователи могли легко выбирать пиццу, добавлять её в корзину и производить оплату без задержек.
- **Надёжность**: приложение должно быть надёжным и стабильным, чтобы пользователи могли осуществлять заказы без сбоев и потерь данных.

Это описание весьма общее, и у разработчиков может возникнуть множество вопросов по каждому из требований:

- Что такое быстрая работа?
- Что такое отзывчивая работа? Чем она отличается от быстрой?
- Что значит «легко выбирать пиццу»?
- Что значит «производить оплату без задержек»? Насколько это отличается от базовой «быстрой работы»?

Переформулируем требования так, чтобы они были конкретными, измеримыми и понятными:

- **Масштабируемость**: приложение должно быть способно обслуживать до 10,000 одновременных пользователей в пиковые периоды, такие как праздники или акции.
- **Производительность**: время отклика приложения на любую пользовательскую команду не должно превышать одну секунду 95% времени. Верхний предел для максимального времени ответа не должен превышать две секунды. Приложение должно визуально откликаться на ввод пользователя в течение 200 миллисекунд.
- **Простота использования**: пользователи должны иметь возможность выбрать пиццу и добавить её в корзину за три клика или меньше.
- **Быстрота оплаты**: процесс оплаты, включая время загрузки страницы оплаты, выбора способа оплаты и подтверждения платежа, не должен занимать более 30 секунд в 95% случаев.
- **Надёжность**: приложение должно обеспечивать бесперебойное функционирование с минимальным временем простоя. Оно должно иметь uptime не менее 99.99% в год. Все пользовательские данные должны регулярно резервироваться, и система должна быть способна восстанавливаться после сбоев без потери данных.

После формулирования требований мы должны проверить их на соответствие бизнес-описанию, их полноту, согласованность и понятность. Например, мы должны убедиться, что все ключевые функции, указанные в бизнес-описании, учтены в наших требованиях.

Дальше требования необходимо провалидировать. **Валидация требований** — это процесс подтверждения, что требования действительно отвечают потребностям бизнеса. Это может включать обсуждение требований с заинтересованными сторонами, включая представителей бизнеса, конечных пользователей и других участников проекта. Например, в нашем случае, мы могли бы обсудить наши требования с владельцами пиццерий, чтобы убедиться, что мы учли все необходимые аспекты процесса приема и выполнения заказов.

Кроме того, валидация требований может включать и техническую оценку - проверку, что все требования технически реализуемы и совместимы с выбранными технологиями и инфраструктурой.

В итоге, после проверки и валидации у нас будет список проверенных и утверждённых требований, с которыми можно начать работать над проектом. Выявление требований — это итеративный процесс, и требования могут изменяться и уточняться по мере продвижения проекта.

### Квиз

**У вас есть бизнес-описание**:

«Вы разрабатываете мобильное приложение для местного ресторана быстрого питания. Приложение должно предоставлять возможность клиентам просматривать меню, делать заказы на вынос, отслеживать время готовности их заказов и оставлять отзывы».

**Разделите предложенные требования на функциональные и нефункциональные**:

Функциональные:  
- [x] Пользователь может просматривать меню.  
 > Функциональное требование. Это основная функция приложения, которую требуется реализовать.  
- [x] Пользователь может делать заказы на вынос.  
 > Функциональное требование. Это другая важная функция приложения, связанная с возможностью совершения заказов.  
- [x] Пользователь может отслеживать время готовности заказа.  
 > Функциональное требование. Это функция приложения, которая помогает пользователям знать, когда их заказ будет готов.  
- [x] Пользователь может оставлять отзывы.  
 > Функциональное требование. Это функция приложения, позволяющая пользователям оставлять отзывы о своем опыте использования.  

Нефункциональные:  
- [x] Система должна поддерживать 99.99% доступности.  
 > Нефункциональное требование. Оно связано с надёжностью системы, а не с конкретной функцией приложения.  
- [x] Время ответа системы не должно превышать две секунды.  
 > Нефункциональное требование. Это требование связано с производительностью системы, а не с конкретной функцией приложения.  
- [x] Система должна обеспечивать защиту данных пользователей.  
 > Нефункциональное требование. Это требование связано с безопасностью данных пользователей, а не с конкретной функцией приложения.  


## Полезные ссылки

- [Требования не меняются, это мы их недовыявили. 10 техник проверки полноты требований](https://habr.com/ru/articles/682598/){target="_blank"}
- [О нефункциональных требованиях](https://schoolforanalyst.ru/aboutnonfuncreq){target="_blank"}
- [Use Cases — что это такое и зачем они нужны?](https://systems.education/use-case){target="_blank"}



